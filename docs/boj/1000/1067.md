# 1067 이동

## 문제

N개의 수가 있는 X와 Y가 있다. 이때 X나 Y를 순환 이동시킬 수 있다. 순환 이동이란 마지막 원소를 제거하고 그 수를 맨 앞으로 다시 삽입하는 것을 말한다. 예를 들어, {1, 2, 3}을 순환 이동시키면 {3, 1, 2}가 될 것이고, {3, 1, 2}는 {2, 3, 1}이 된다. 순환 이동은 0번 또는 그 이상 할 수 있다. 이 모든 순환 이동을 한 후에 점수를 구하면 된다. 점수 S는 다음과 같이 구한다.

S = X[0]×Y[0] + X[1]×Y[1] + ... + X[N-1]×Y[N-1]

이때 S를 최대로 하면 된다. 

## 풀이

다음과 같은 다항식 A, B가 있다.

$$
\begin{aligned}
A &= a_2x^5 + a_1x^4 + a_0x^3 \\
  &+ a_2x^2 + a_1x + a_0 \\
B &=                            b_0x^2 + b_1x + b_2 \\
\end{aligned}
$$

이 다항식을 곱하면 이렇게 된다.

$$
\begin{aligned}
A{\cdot}B
&= (a_2b_0)x^7 \\
&+ (a_2b_1 + a_1b_0)x^6 \\
&+ (a_2b_2 + a_1b_1 + a_0b_0)x^5 \\
&+ (a_1b_2 + a_0b_1 + a_2b_0)x^4 \\
&+ (a_0b_2 + a_2b_1 + a_1b_0)x^3 \\
&+ (a_2b_2 + a_1b_1 + a_0b_0)x^2 \\
&+ (a_1b_2 + a_0b_1)x \\
&+ (a_0b_2) \\
\end{aligned}
$$

계수를 보면 우리가 구하고자 하는 값을 찾을 수 있다.



다항식의 곱을 빠르게 계산하기 위해서 fft를 사용해주면 문제를 해결할 수 있다.
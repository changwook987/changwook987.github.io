# 30413 양 한 마리... 양 A마리... 양 A제곱마리...

## 문제

춘배는 오늘도 열심히 활동을 마친 후 자려 하지만 도저히 잠이 안 온다. 춘배는 잠을 자기 위해 자신만의 방법으로 양을 세려는데 한 마리씩 세지 않고 여러 마리를 한꺼번에 세면서 자려 한다.

춘배는 일단 양의 정수 $A$를 정한다. 그 후 양을 셀 때 첫 번째에 센 양의 수는 항상 $1$로 두고, 그 뒤 두 번째에 센 양의 수는 $A$세 번째에 센 양의 수는 $A^2$이렇게 점점 양의 수를 세어 간다. 즉, $n$번째에 센 양의 수는 $A^{n-1}$ 가 된다.

춘배는 이러한 방식으로 양을 세다 문득 자신이 첫 번째부터 B번째까지 센 모든 양의 수가 얼마나 될지 궁금해졌다. 춘배를 위해 첫 번째부터 마지막 B번째까지 센 모든 양의 수가 몇 마리인지 구해보자! 하지만 수가 너무 커질 수 있기에 $1\,000\,000\,007(=10^9+7)$로 나눈 나머지를 구하자.

## 풀이

### 풀이 1

$$
1+A+A^2+A^3+...+A^{n-1}
$$

$$
\begin{bmatrix}
1 \\
A + 1 \\
\end{bmatrix}
=
\begin{bmatrix}
1 & 0 \\
1 & A \\
\end{bmatrix}
\cdot
\begin{bmatrix}
1 \\
1 \\
\end{bmatrix}
$$

따라서

$$
\begin{bmatrix}
1 \\
\sum_{i=0}^{n-1}A^i \\
\end{bmatrix}
=
\begin{bmatrix}
1 & 0 \\
1 & A \\
\end{bmatrix}^n
\cdot
\begin{bmatrix}
1 \\
1 \\
\end{bmatrix}
$$

### 풀이 2

초항이 $1$이고 공비가 $A$인 등비수열의 합을 구하는 문제이므로

등비수열의 합 공식을 사용하여 쉽게 답을 구할 수 있다.

$$\frac{a(r^n-1)}{r-1}$$

### 풀이 3

$$
1+A+A^2+A^3 = (1+A)(1+A^2)
$$

따라서 분할 정복을 이용해 값을 구할 수 있다.
